---
import Layout from '../../layouts/Layout.astro';

const title = "Comprendre Liquid : Le langage de template de Shopify";
const description = "Découvrez Liquid, le langage de template qui permet de créer des thèmes Shopify dynamiques. Guide complet avec exemples de code et bonnes pratiques.";
const date = "2025-02-05";
const readTime = "5 min";
const image = "https://images.unsplash.com/photo-1627398242454-45a1465c2479?auto=format&fit=crop&w=1600&q=80";
---

<Layout title={title} description={description}>
    <main class="py-32 relative overflow-hidden">
        <!-- Fond avec dégradé et motif -->
        <div class="absolute inset-0 bg-gradient-to-br from-purple-50 to-white"></div>
        <div class="absolute inset-0 opacity-[0.03] bg-[url('/grid.svg')]"></div>

        <div class="container mx-auto px-4 relative">
            <!-- En-tête de l'article -->
            <div class="max-w-4xl mx-auto">
                <div class="mb-8">
                    <h1 class="text-4xl md:text-5xl font-bold text-gray-900 mb-6">{title}</h1>
                    <div class="flex items-center gap-4 text-gray-600">
                        <time datetime={date} class="text-sm">{date}</time>
                        <span class="w-1 h-1 rounded-full bg-gray-400"></span>
                        <span class="text-sm">{readTime}</span>
                    </div>
                </div>

                <!-- Image de couverture -->
                <div class="rounded-2xl overflow-hidden mb-12 shadow-xl">
                    <img src={image} alt="Code editor showing Liquid syntax" class="w-full h-[400px] object-cover" />
                </div>

                <!-- Contenu de l'article -->
                <article class="prose prose-lg max-w-none prose-headings:text-gray-900 prose-p:text-gray-600 prose-a:text-purple-600 prose-a:no-underline hover:prose-a:underline prose-pre:bg-gray-900 prose-pre:text-gray-100 prose-pre:rounded-xl">
                    <p>Je vais vous expliquer en détail ce qu'est Liquid dans le contexte de Shopify.</p>

                    <p>Liquid est un langage de template open-source créé par Shopify pour dynamiser les thèmes de ses boutiques en ligne. C'est essentiellement un langage qui permet de créer une interface entre les données de votre boutique et l'affichage HTML de votre site.</p>

                    <h2>Les aspects fondamentaux de Liquid</h2>

                    <h3>1. Syntaxe de base</h3>
                    <p>Liquid utilise deux types de délimiteurs principaux :</p>
                    <ul>
                        <li><code>{{ "{{ }}" }}</code> pour afficher du contenu</li>
                        <li><code>{% "{% %}" %}</code> pour la logique (conditions, boucles, etc.)</li>
                    </ul>

                    <p>Exemple simple :</p>
                    <pre><code>&lt;h1&gt;{{ "{{ product.title }}" }}&lt;/h1&gt;
{% "{% if product.available %}" %}
  Prix : {{ "{{ product.price | money }}" }}
{% "{% endif %}" %}</code></pre>

                    <h3>2. Les objets Liquid</h3>
                    <p>Liquid donne accès aux données de votre boutique via des objets prédéfinis :</p>
                    <ul>
                        <li><code>product</code> : informations sur les produits</li>
                        <li><code>collection</code> : données des collections</li>
                        <li><code>cart</code> : informations du panier</li>
                        <li><code>customer</code> : données du client</li>
                        <li><code>shop</code> : informations générales de la boutique</li>
                    </ul>

                    <h3>3. Les filtres</h3>
                    <p>Les filtres sont des modificateurs qui transforment les données. Par exemple :</p>
                    <pre><code>{{ "{{ product.price | money }}" }}           // Formate le prix
{{ "{{ product.title | capitalize }}" }}      // Met en majuscule
{{ "{{ collection.products | size }}" }}      // Compte le nombre d'éléments</code></pre>

                    <h3>4. Les balises de contrôle</h3>
                    <p>Liquid permet d'utiliser des structures de contrôle comme :</p>
                    <pre><code>{% "{% if customer %}" %}
  Bonjour {{ "{{ customer.name }}" }}
{% "{% else %}" %}
  Veuillez vous connecter
{% "{% endif %}" %}

{% "{% for product in collection.products %}" %}
  {{ "{{ product.title }}" }}
{% "{% endfor %}" %}</code></pre>

                    <h3>5. Les assignations</h3>
                    <p>Vous pouvez créer des variables temporaires :</p>
                    <pre><code>{% "{% assign ma_variable = 'valeur' %}" %}
{% "{% assign produits_disponibles = collection.products | where: 'available' %}" %}</code></pre>

                    <h3>6. Les tableaux</h3>
                    <p>Liquid permet de manipuler des tableaux avec plusieurs méthodes :</p>
                    <pre><code>{% "{% assign fruits = 'pomme,orange,banane' | split: ',' %}" %}
{% "{% for fruit in fruits %}" %}
  {{ "{{ fruit }}" }}
{% "{% endfor %}" %}</code></pre>

                    <h3>7. Les inclusions</h3>
                    <p>Vous pouvez modulariser votre code :</p>
                    <pre><code>{% "{% include 'header' %}" %}
{% "{% section 'footer' %}" %}</code></pre>

                    <h2>Avantages de Liquid</h2>
                    <ul>
                        <li><strong>Sécurité</strong> : Liquid est conçu pour être sûr et ne permet pas l'exécution de code malveillant</li>
                        <li><strong>Simplicité</strong> : La syntaxe est facile à apprendre</li>
                        <li><strong>Flexibilité</strong> : Permet de créer des layouts complexes</li>
                        <li><strong>Performance</strong> : Le code est compilé et mis en cache</li>
                    </ul>

                    <h2>Limitations</h2>
                    <ul>
                        <li><strong>Pas de vraie programmation</strong> : Liquid n'est pas un langage de programmation complet</li>
                        <li><strong>Fonctionnalités limitées</strong> : Certaines opérations complexes nécessitent des solutions alternatives</li>
                        <li><strong>Spécifique à Shopify</strong> : Bien que open-source, il est principalement utilisé dans l'écosystème Shopify</li>
                    </ul>

                    <h2>Conclusion</h2>
                    <p>Liquid est un outil puissant pour personnaliser votre boutique Shopify. Il offre un bon équilibre entre facilité d'utilisation et fonctionnalités, tout en maintenant la sécurité de votre site. Pour les développeurs Shopify, c'est une compétence essentielle à maîtriser.</p>
                </article>
            </div>
        </div>
    </main>
</Layout>
